#
# config.py
# 全局配置文件
#
# 本文件集中管理整个框架的所有配置参数，包括：
# - 日志系统配置
# - 串口通信配置
# - 视觉识别配置
# - 自瞄系统配置
#
# @author n1ghts4kura
# @date 2025/10/3
#

# ============================================================
# 日志系统配置
# ============================================================
DEBUG_MODE = True  # 设置为 False 则只输出 INFO 及以上级别的日志


# ============================================================
# 串口通信配置
# ============================================================
SERIAL_PORT = "/dev/ttyUSB0"   # 串口设备路径（Linux: /dev/ttyUSB0, Windows: COM3）
SERIAL_BAUDRATE = 115200       # 波特率
SERIAL_TIMEOUT = 1             # 读取超时（秒）


# ============================================================
# 视觉识别配置
# ============================================================
# 模型路径
YOLO_MODEL_PATH = "./model/yolov8n.onnx"

# 相机参数
CAMERA_WIDTH = 480
CAMERA_HEIGHT = 320
CAMERA_INDEX = 0               # 相机索引（0 为默认相机）


# ============================================================
# 自瞄系统配置
# ============================================================
# 相机视场角（Field of View）
# 注意：大多数相机只标注一个 FOV 值（对角线或水平）
# 垂直 FOV 会根据传感器长宽比自动计算
CAMERA_FOV_HORIZONTAL = 70.0   # 水平视场角（度），TODO: 需通过实际测量校准或查阅相机规格表

# 云台控制参数
GIMBAL_SPEED = 90              # 云台运动速度（°/s），TODO: 根据实际响应速度调优
MAX_YAW = 50                   # 最大偏航角限制（°），TODO: 根据机器人物理限制调整
MAX_PITCH = 50                 # 最大俯仰角限制（°），TODO: 根据机器人物理限制调整

# 自瞄控制参数
AIM_LOST_TARGET_TIMEOUT_FRAMES = 5   # 连续无目标的帧数阈值（触发搜索）
AIM_CONTROL_FREQUENCY = 20           # 自瞄控制频率（Hz）

# 自瞄搜索参数
AIM_SEARCH_FOV_COVERAGE = 0.7        # 搜索步进占视野角度的比例（0.6-0.8 推荐）
                                     # 0.7 表示每次旋转覆盖 70% 的水平视野
AIM_SEARCH_DIRECTION = 1             # 搜索方向（1=向右/正方向，-1=向左/负方向）
